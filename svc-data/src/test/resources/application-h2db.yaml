server:
  port: 0

stream:
  enabled: false
cache:
  enabled: false

# Disable rate limiting for tests - using WireMock stubs, not real APIs
resilience4j:
  ratelimiter:
    instances:
      alphaVantage:
        limitForPeriod: 1000
        limitRefreshPeriod: 1s
        timeoutDuration: 1s
      morningstar:
        limitForPeriod: 1000
        limitRefreshPeriod: 1s
        timeoutDuration: 1s
      fxRates:
        limitForPeriod: 1000
        limitRefreshPeriod: 1s
        timeoutDuration: 1s

spring:
  flyway:
    enabled: false
  datasource:
    username: sa
    password:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL
  cloud:
    function:
      definition: ""
    stream:
      defaultBinder: test
      bindings: {}
beancounter:
  enricher: DEFAULT

  market.providers:
    alpha:
      markets: NASDAQ,AMEX,NYSE,ASX,LON,US

    mstack:
      markets: NZX

    fx:
      url: http://localhost:${wiremock.server.port:0}
      key: test
